selector_to_html = {"a[href=\"#quality-assessment-questions\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Quality assessment questions<a class=\"headerlink\" href=\"#quality-assessment-questions\" title=\"Link to this heading\">#</a></h2><p>Seasonal forecasts can be used as an input to crop models for agricultural risk assessment <a class=\"reference external\" href=\"https://www.nature.com/articles/s41598-018-20628-2\">[1]</a> <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S0168192318303836\">[2]</a> <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S2405880722000425\">[3]</a>. However, the presence of systematic errors can undermine the performance of crop models in a number of ways, particularly when critical thresholds in the plant growth process are considered. Similar problems can arise in other sectoral applications, such as the management of renewable energy facilities <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S0960148119306196\">[4]</a>, or the alerting of national health services for the occurrence of summer heat waves <a class=\"reference external\" href=\"https://link.springer.com/article/10.1007/s00382-021-05828-3\">[5]</a>. In addition to temperature and precipitation, the most commonly used climate variables for risk assessment in all sectoral applications, the notebook also considers winds speed and dew point temperature. While these variables are commonly used in agricultural applications to calculate potential evapotranspiration, the results of the assessment are also valuable for several other sectors.</p>", "a[href=\"#era5-data-retrieval-and-area-average\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">2. ERA5 data retrieval and area average`.<a class=\"headerlink\" href=\"#era5-data-retrieval-and-area-average\" title=\"Link to this heading\">#</a></h3><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">regionalised_spatial_weighted_mean</span></code> is applied for all regions and all variables selected for download. All time series of the regionalised means are collected in the same xarray <code class=\"docutils literal notranslate\"><span class=\"pre\">ds_reanalysis</span></code>.</p>", "a[href=\"#compute-bias\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">4. Compute bias<a class=\"headerlink\" href=\"#compute-bias\" title=\"Link to this heading\">#</a></h3><p>The the seasonal hindcast data are arranged in a four-dimensional array <code class=\"docutils literal notranslate\"><span class=\"pre\">ds_seasonal[i,j,n,k]</span></code>, where:</p>", "a[href=\"#\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Use case: Risk assessment in agriculture using seasonal forecasts as an input for climate impact models.<a class=\"headerlink\" href=\"#use-case-risk-assessment-in-agriculture-using-seasonal-forecasts-as-an-input-for-climate-impact-models\" title=\"Link to this heading\">#</a></h1><h2>Quality assessment questions<a class=\"headerlink\" href=\"#quality-assessment-questions\" title=\"Link to this heading\">#</a></h2><p>Seasonal forecasts can be used as an input to crop models for agricultural risk assessment <a class=\"reference external\" href=\"https://www.nature.com/articles/s41598-018-20628-2\">[1]</a> <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S0168192318303836\">[2]</a> <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S2405880722000425\">[3]</a>. However, the presence of systematic errors can undermine the performance of crop models in a number of ways, particularly when critical thresholds in the plant growth process are considered. Similar problems can arise in other sectoral applications, such as the management of renewable energy facilities <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S0960148119306196\">[4]</a>, or the alerting of national health services for the occurrence of summer heat waves <a class=\"reference external\" href=\"https://link.springer.com/article/10.1007/s00382-021-05828-3\">[5]</a>. In addition to temperature and precipitation, the most commonly used climate variables for risk assessment in all sectoral applications, the notebook also considers winds speed and dew point temperature. While these variables are commonly used in agricultural applications to calculate potential evapotranspiration, the results of the assessment are also valuable for several other sectors.</p>", "a[href=\"#choose-the-data-to-use-and-setup-the-code-s\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">1. Choose the data to use and setup the code)s.<a class=\"headerlink\" href=\"#choose-the-data-to-use-and-setup-the-code-s\" title=\"Link to this heading\">#</a></h3><h4>Import required packages<a class=\"headerlink\" href=\"#import-required-packages\" title=\"Link to this heading\">#</a></h4><p>We use the <code class=\"docutils literal notranslate\"><span class=\"pre\">regionmask</span> <span class=\"pre\">package</span></code> to extract climatologies for a few selected regiones that have already e been adopted in several climate studies, including the analysis presented in the latest IPCC report.</p><p>A description of the regions adopted for climate assesements in the scientific literature is available <a class=\"reference external\" href=\"https://regionmask.readthedocs.io/en/stable/defined_scientific.htm\">here</a>.</p>", "a[href=\"#show-a-sample-global-map-of-temperature-biases\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Show a sample global map of temperature biases<a class=\"headerlink\" href=\"#show-a-sample-global-map-of-temperature-biases\" title=\"Link to this heading\">#</a></h3><p>To reduce computation, this notebook simplifies the bias analysis by focusing on mean values of surface variables across the chosen regions. The goal is to offer a broad overview of the bias evolution over lead times. Thus, it is crucial that the selected regions exhibit sufficient homogeneity to minimize the compensation effects from systematic errors of varying sign.</p><p>This section of the notebook offers a simple tool for exploring sample bias maps and confirming that bias sign remain relatively constant within selected regions. Additionally, it serves as an insight on the behavior of individual models summarized in the comprehensive tables provided later in the notebook.</p>", "a[href=\"#import-required-packages\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Import required packages<a class=\"headerlink\" href=\"#import-required-packages\" title=\"Link to this heading\">#</a></h4><p>We use the <code class=\"docutils literal notranslate\"><span class=\"pre\">regionmask</span> <span class=\"pre\">package</span></code> to extract climatologies for a few selected regiones that have already e been adopted in several climate studies, including the analysis presented in the latest IPCC report.</p><p>A description of the regions adopted for climate assesements in the scientific literature is available <a class=\"reference external\" href=\"https://regionmask.readthedocs.io/en/stable/defined_scientific.htm\">here</a>.</p>", "a[href=\"#quality-assessment-statement\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Quality assessment statement<a class=\"headerlink\" href=\"#quality-assessment-statement\" title=\"Link to this heading\">#</a></h2><p>The figure shows a sample  of the ECMWF monthly temperature bias for Western North America as a function of the starting month and of the valid month of the forecast. More details on how to interpret the results are available below in the notebook.</p><p><img alt=\"image.png\" src=\"seasonal/attachment:65ac1e47-560f-45d9-b5eb-eaf0388326cb.png\"/></p>", "a[href=\"#plot-the-chosen-regions\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Plot the chosen regions<a class=\"headerlink\" href=\"#plot-the-chosen-regions\" title=\"Link to this heading\">#</a></h4><p>For the bias analysis we use 8 out of the 45 regions defined in the <code class=\"docutils literal notranslate\"><span class=\"pre\">regionmask</span></code> package in order to assess the systematic errors of the modelling systems under different climatic regimes (tropical, extratropical, continental, maritime) with a number of cases maneageable within the notebook.</p>", "a[href=\"#define-parameters-describing-regions-variables-and-data\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Define parameters describing regions, variables, and data<a class=\"headerlink\" href=\"#define-parameters-describing-regions-variables-and-data\" title=\"Link to this heading\">#</a></h4><p>In this notebook the analysis of the model bias is done for 5 variables from all 8 originating centres. The SREX regions selected for the analysis are:</p>", "a[href=\"#analysis-and-results\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Analysis and results<a class=\"headerlink\" href=\"#analysis-and-results\" title=\"Link to this heading\">#</a></h2><h3>1. Choose the data to use and setup the code)s.<a class=\"headerlink\" href=\"#choose-the-data-to-use-and-setup-the-code-s\" title=\"Link to this heading\">#</a></h3><h4>Import required packages<a class=\"headerlink\" href=\"#import-required-packages\" title=\"Link to this heading\">#</a></h4><p>We use the <code class=\"docutils literal notranslate\"><span class=\"pre\">regionmask</span> <span class=\"pre\">package</span></code> to extract climatologies for a few selected regiones that have already e been adopted in several climate studies, including the analysis presented in the latest IPCC report.</p><p>A description of the regions adopted for climate assesements in the scientific literature is available <a class=\"reference external\" href=\"https://regionmask.readthedocs.io/en/stable/defined_scientific.htm\">here</a>.</p>", "a[href=\"#seasonal-hindcast-data-retrieval-and-area-average\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">3. Seasonal hindcast data retrieval and area average`.<a class=\"headerlink\" href=\"#seasonal-hindcast-data-retrieval-and-area-average\" title=\"Link to this heading\">#</a></h3><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">regionalised_spatial_weighted_mean</span></code> is applied for all centres, regions and all variables selected for download. Missing variables are handled, so the download and transform process is not interrupted. All time series of the regionalised means are collected in the same xarray <code class=\"docutils literal notranslate\"><span class=\"pre\">ds_seasonal</span></code>.</p>", "a[href=\"#how-to-read-the-results\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">How to read the results<a class=\"headerlink\" href=\"#how-to-read-the-results\" title=\"Link to this heading\">#</a></h4><p>The following tables summarise the monthly bias for all source centres and selected areas.</p><p>In each panel, the horizontal axis represents the validity period of the forecast, while the vertical axis shows the corresponding start dates. Thus, each horizontal strip of coloured tiles shows the evolution of the mean temperature bias over the six-month period of validity of each forecast.</p>", "a[href=\"#plot-and-describe-results\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">5. Plot and describe results<a class=\"headerlink\" href=\"#plot-and-describe-results\" title=\"Link to this heading\">#</a></h3><h4>How to read the results<a class=\"headerlink\" href=\"#how-to-read-the-results\" title=\"Link to this heading\">#</a></h4><p>The following tables summarise the monthly bias for all source centres and selected areas.</p><p>In each panel, the horizontal axis represents the validity period of the forecast, while the vertical axis shows the corresponding start dates. Thus, each horizontal strip of coloured tiles shows the evolution of the mean temperature bias over the six-month period of validity of each forecast.</p>", "a[href=\"#references\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">References<a class=\"headerlink\" href=\"#references\" title=\"Link to this heading\">#</a></h2><p><a class=\"reference external\" href=\"https://www.nature.com/articles/s41598-018-20628-2\">[1]</a> Rodriguez, D., De Voil, P., Hudson, D., Brown, J. N., Hayman, P., Marrou, H., &amp; Meinke, H. (2018). Predicting optimum crop designs using crop models and seasonal climate forecasts. Scientific reports, 8(1), 2231.</p><p><a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S0168192318303836\">[2]</a> Jha, P. K., Athanasiadis, P., Gualdi, S., Trabucco, A., Mereu, V., Shelia, V., &amp; Hoogenboom, G. (2019). Using daily data from seasonal forecasts in dynamic crop models for yield prediction: A case study for rice in Nepal\u2019s Terai. Agricultural and forest meteorology, 265, 349-358.</p>", "a[href=\"#define-the-required-functions\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Define the required functions<a class=\"headerlink\" href=\"#define-the-required-functions\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#use-case-risk-assessment-in-agriculture-using-seasonal-forecasts-as-an-input-for-climate-impact-models\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Use case: Risk assessment in agriculture using seasonal forecasts as an input for climate impact models.<a class=\"headerlink\" href=\"#use-case-risk-assessment-in-agriculture-using-seasonal-forecasts-as-an-input-for-climate-impact-models\" title=\"Link to this heading\">#</a></h1><h2>Quality assessment questions<a class=\"headerlink\" href=\"#quality-assessment-questions\" title=\"Link to this heading\">#</a></h2><p>Seasonal forecasts can be used as an input to crop models for agricultural risk assessment <a class=\"reference external\" href=\"https://www.nature.com/articles/s41598-018-20628-2\">[1]</a> <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S0168192318303836\">[2]</a> <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S2405880722000425\">[3]</a>. However, the presence of systematic errors can undermine the performance of crop models in a number of ways, particularly when critical thresholds in the plant growth process are considered. Similar problems can arise in other sectoral applications, such as the management of renewable energy facilities <a class=\"reference external\" href=\"https://www.sciencedirect.com/science/article/pii/S0960148119306196\">[4]</a>, or the alerting of national health services for the occurrence of summer heat waves <a class=\"reference external\" href=\"https://link.springer.com/article/10.1007/s00382-021-05828-3\">[5]</a>. In addition to temperature and precipitation, the most commonly used climate variables for risk assessment in all sectoral applications, the notebook also considers winds speed and dew point temperature. While these variables are commonly used in agricultural applications to calculate potential evapotranspiration, the results of the assessment are also valuable for several other sectors.</p>", "a[href=\"#discussion\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Discussion<a class=\"headerlink\" href=\"#discussion\" title=\"Link to this heading\">#</a></h4><p>The tables below we summarise the monthly bias for all originating centres (columns) and for all selected areas (rows).</p><p><strong>Temperature</strong> - All seasonal forecast models produce a significant temperature bias over most of the regions selected for analysis.  Two centres, DWD and METEOFRANCE, produce a forecast with a predominant warm bias over most regions and in all seasons.  The temperature bias is a function of both the start time and the valid time of the forecast, with a slightly stronger dependence on the valid time. Therefore, the bias does not increase with the lead time of the forecast. Instead, it tends to be a characteristic aspect of each model over the specific region and time of year. The seasonal cycle of the bias is particularly evident over western North America.</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
